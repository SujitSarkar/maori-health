import 'package:maori_health/data/employee/models/employee_model.dart';
import 'package:maori_health/domain/timesheet/entities/timesheet.dart';

class TimeSheetModel extends TimeSheet {
  const TimeSheetModel({
    required super.id,
    super.jobListId,
    super.jobDayId,
    super.assigneeUserId,
    super.clientUserId,
    super.funderId,
    super.scheduleStartTime,
    super.scheduleEndTime,
    super.workStartTime,
    super.workEndTime,
    required super.scheduleTotalTime,
    super.workTotalTime,
    super.day,
    super.jobType,
    super.payHour,
    super.travelType,
    super.travelTime,
    super.travelDistance,
    super.visitType,
    required super.status,
    super.isHoliday,
    super.color,
    super.operatorId,
    super.createdAt,
    super.updatedAt,
    super.client,
    super.assignee,
  });

  factory TimeSheetModel.fromJson(Map<String, dynamic> json) {
    return TimeSheetModel(
      id: json['id'] as int,
      jobListId: json['job_list_id'] as int?,
      jobDayId: json['job_day_id'] as int?,
      assigneeUserId: json['assignee_user_id'] as int?,
      clientUserId: json['client_user_id'] as int?,
      funderId: json['funder_id'] as int?,
      scheduleStartTime: json['schedule_start_time'] as String?,
      scheduleEndTime: json['schedule_end_time'] as String?,
      workStartTime: json['work_start_time'] as String?,
      workEndTime: json['work_end_time'] as String?,
      scheduleTotalTime: (json['schedule_total_time'] as num?)?.toDouble() ?? 0,
      workTotalTime: (json['work_total_time'] as num?)?.toDouble() ?? 0,
      day: json['day'] as String?,
      jobType: json['job_type'] as String?,
      payHour: (json['pay_hour'] as num?)?.toDouble(),
      travelType: json['travel_type'] as String?,
      travelTime: (json['travel_time'] as num?)?.toDouble(),
      travelDistance: (json['travel_distance'] as num?)?.toDouble(),
      visitType: json['visit_type'] as String?,
      status: json['status'] as String? ?? '',
      isHoliday: json['is_holiday'] as int? ?? 0,
      color: json['color'] as String?,
      operatorId: json['operator_id'] as int?,
      createdAt: json['created_at'] as String?,
      updatedAt: json['updated_at'] as String?,
      client: json['client'] != null ? EmployeeModel.fromJson(json['client'] as Map<String, dynamic>) : null,
      assignee: json['assignee'] != null ? EmployeeModel.fromJson(json['assignee'] as Map<String, dynamic>) : null,
    );
  }
}
